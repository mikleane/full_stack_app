<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>The Joy of Beer</title>
    <link rel="stylesheet" type="text/css" href="beaut.css">
    <style>
      .ng-cloak {
        display: none !important;
      }
    </style>
  </head>
  <body data-ng-app="app">
    <h2>Two Resource Full Stack App</h2>
    <nav-bar></nav-bar>

    <div id="beers" class="tab-content" data-ng-controller="BeersController as beersctrl" data-ng-init="beersctrl.getBeers()">
      <h3>Beer Resource Data Array:</h3>
      <h4 id="beerarray" class="ng-cloak" ng-cloak>{{beersctrl.beers}}</h4>
      <ul id="beerlist">
        <li class="ng-cloak" ng-cloak data-ng-repeat="beer in beersctrl.beers" highlight>{{beer.name}}
          <button type"submit" ng-click="beersctrl.removeBeer(beer)">Delete Beer</button>
          <button type="submit" ng-click="beersctrl.updateBeer.displayed = beer._id">Edit Beer</button>
          <form id="beerupdate" class="form" data-ng-show="beersctrl.updateBeer.displayed == beer._id" data-ng-submit="beersctrl.updateBeer(beer); beersctrl.updateBeer.displayed = null">
            <input type="text" placeholder="name" data-ng-model="beer.name"/>
            <input type="text" placeholder="type" data-ng-model="beer.type"/>
            <input type="text" placeholder="style" data-ng-model="beer.style"/>
            <input type="text" placeholder="brewery" data-ng-model="beer.brewery"/>
            <button type="submit">Make Changes</button>
            <button type="reset" data-ng-click="beersctrl.resetBeer(beer); beersctrl.updateBeer.displayed = null">Cancel Changes</button>
          </form>
        </li>
      </ul>
      <form class="form" data-ng-submit="beersctrl.createBeer(newBeer)">
        <input type="text" placeholder="name" ng-required="true" data-ng-model="newBeer.name"/>
        <input type="text" placeholder="type" data-ng-model="newBeer.type"/>
        <input type="text" placeholder="style" data-ng-model="newBeer.style"/>
        <input type="text" placeholder="brewery" data-ng-model="newBeer.brewery"/>
        <input type="reset"/>
        <button type="submit">Add New Beer</button>
      </form>
    </div>
    <div id="users" class="tab-content" data-ng-controller="UsersController as usersctrl" data-ng-init="usersctrl.getUsers()">
      <h3>User Resource Data Array:</h3>
      <h4 id="userarray" class="ng-cloak" ng-cloak>{{usersctrl.users}}</h4>
      <ul id="userlist">
        <li class="ng-cloak" data-ng-repeat="user in usersctrl.users" highlight>{{user.firstName}}
        <button type="submit" data-ng-click="usersctrl.removeUser(user)">Delete User</button>
        <button type="submit" data-ng-click="usersctrl.updateUser.displayed = user._id">Update User</button>
        <form id="userupdate" class="form" data-ng-show="usersctrl.updateUser.displayed == user._id" data-ng-submit="usersctrl.updateUser(user); usersctrl.updateUser.displayed = null">
          <input type="text" placeholder="first name" data-ng-model="user.firstName"/>
          <input type="text" placeholder="last name" data-ng-model="user.lastName"/>
          <input type="text" placeholder="favorite beer" data-ng-model="user.favBeers"/>
          <button type="submit">Change User</button>
          <button type="reset" data-ng-click="usersctrl.resetUser(user); usersctrl.updateUser.displayed = null">Cancel Changes</button>
        </form>
        </li>
      </ul>
      <form class="form" data-ng-submit="usersctrl.createUser(newUser)">
        <input type="text" placeholder="first name" data-ng-required="true" data-ng-model="newUser.firstName"/>
        <input type="text" placeholder="last name" data-ng-model="newUser.lastName"/>
        <input type="text" placeholder="favorite beers" data-ng-model="newUser.favBeers"/>
        <input type="reset"/>
        <button type="submit">Add New User</button>
      </form>
    </div>
    <footer></footer>
    <script src="./bundle.js"></script>
  </body>
</html>
